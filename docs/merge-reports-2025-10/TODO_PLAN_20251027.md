# TODO è®¡åˆ’ - MetaSheet V2 é¡¹ç›®

**ç”Ÿæˆæ—¥æœŸ**: 2025-10-27
**å½“å‰çŠ¶æ€**: PR 151å·²åˆå¹¶ï¼ŒCIå¥åº·åº¦80%
**ä¸‹ä¸€ç›®æ ‡**: æ¢å¤100% CIå¥åº·åº¦ + ç»§ç»­PRåˆå¹¶æµç¨‹

---

## ğŸ“‹ ä»»åŠ¡ä¼˜å…ˆçº§è¯´æ˜

- ğŸ”´ **ç´§æ€¥é‡è¦** - ç«‹å³æ‰§è¡Œï¼ˆ24å°æ—¶å†…ï¼‰
- ğŸŸ¡ **é‡è¦ä¸ç´§æ€¥** - æœ¬å‘¨å®Œæˆï¼ˆ1-7å¤©ï¼‰
- ğŸŸ¢ **ä¸ç´§æ€¥** - æœ¬æœˆå®Œæˆï¼ˆ1-4å‘¨ï¼‰
- ğŸ”µ **ä½ä¼˜å…ˆçº§** - æœ‰æ—¶é—´å†åš

---

## ğŸ”´ ç«‹å³ä»»åŠ¡ (ä»Šå¤© - 24å°æ—¶å†…)

### âœ… å·²å®Œæˆ
- [x] CIå¤±è´¥è¯Šæ–­å’Œä¿®å¤ (TypeScript + pnpm)
- [x] PR 151åˆå¹¶ (11ä¸ªå†²çªè§£å†³)
- [x] PR 157åˆ†æå’Œå…³é—­
- [x] ç”Ÿæˆ3ä»½è¯¦ç»†æŠ¥å‘Š (31Kå­—)
- [x] åˆ›å»ºIssue #316è¿½è¸ªDeployæµ‹è¯•å¤±è´¥

### ğŸ¯ å»ºè®®ä»Šå¤©å®Œæˆ

#### 1. ä¼‘æ¯å’Œå¤ç›˜ â˜•
**ä¼˜å…ˆçº§**: ğŸ”´ é«˜
**é¢„è®¡æ—¶é—´**: 30åˆ†é’Ÿ

```bash
# æŸ¥çœ‹ä»Šå¤©çš„æˆå°±
git log --oneline --since="2025-10-27 09:00"

# é˜…è¯»ç”Ÿæˆçš„æŠ¥å‘Šæ‘˜è¦
cat docs/merge-reports-2025-10/SESSION_SUMMARY_20251027.md | head -100
```

**æ£€æŸ¥æ¸…å•**:
- [ ] æŸ¥çœ‹ä»Šå¤©çš„4ä¸ªcommit
- [ ] ç¡®è®¤PR 151å·²æ ‡è®°ä¸ºMERGED
- [ ] æµè§ˆ3ä»½æŠ¥å‘Šçš„æ‰§è¡Œæ‘˜è¦
- [ ] åº†ç¥æˆå°± ğŸ‰

#### 2. éªŒè¯PR 151åŠŸèƒ½ (å¯é€‰)
**ä¼˜å…ˆçº§**: ğŸŸ¡ ä¸­
**é¢„è®¡æ—¶é—´**: 15åˆ†é’Ÿ

```bash
# æµ‹è¯•é…ç½®çƒ­é‡è½½
curl -X POST http://localhost:8900/api/admin/config/reload \
  -H "Authorization: Bearer YOUR_TOKEN"

# æŸ¥çœ‹æ–°çš„PrometheusæŒ‡æ ‡
curl http://localhost:8900/metrics/prom | grep -E "config_version|config_reload|config_sampling"

# é¢„æœŸçœ‹åˆ°:
# config_version 1
# config_reload_total{result="success",telemetry_restart="false"} 1
# config_sampling_rate 0.1
```

**æ£€æŸ¥æ¸…å•**:
- [ ] é…ç½®é‡è½½APIæ­£å¸¸å“åº”
- [ ] config_versionæŒ‡æ ‡å­˜åœ¨
- [ ] config_reload_totalæœ‰telemetry_restartæ ‡ç­¾
- [ ] config_sampling_rateæŒ‡æ ‡æ­£å¸¸

---

## ğŸŸ¡ æœ¬å‘¨ä»»åŠ¡ (1-7å¤©)

### A. ä¿®å¤Deployæµ‹è¯•å¤±è´¥ (Issue #316)

**ä¼˜å…ˆçº§**: ğŸŸ¡ é‡è¦
**é¢„è®¡æ—¶é—´**: 1-2å°æ—¶
**è´Ÿè´£äºº**: å¾…åˆ†é…
**Issue**: https://github.com/zensgit/smartsheet/issues/316

#### ä»»åŠ¡åˆ†è§£

##### A1. ä¿®å¤DomPool windowä¾èµ–
**æ–‡ä»¶**: `packages/core/src/utils/DomPool.ts`
**é¢„è®¡æ—¶é—´**: 20åˆ†é’Ÿ

```bash
# æ­¥éª¤1: åœ¨GitHub Webç•Œé¢ç¼–è¾‘
open https://github.com/zensgit/smartsheet/edit/main/packages/core/src/utils/DomPool.ts

# æ­¥éª¤2: æ‰¾åˆ°startAutoCleanupæ–¹æ³• (line 371)
# æ­¥éª¤3: åº”ç”¨ä¿®å¤ä»£ç  (è§DEPLOY_TEST_FIX_PLAN_20251027.md)
# æ­¥éª¤4: Commitåˆ°æ–°åˆ†æ”¯ fix/dompool-node-compat
```

**æ£€æŸ¥æ¸…å•**:
- [ ] æ·»åŠ `typeof window !== 'undefined'`æ£€æŸ¥
- [ ] æ·»åŠ Node.jsç¯å¢ƒfallback (`setInterval`)
- [ ] åŒæ ·ä¿®å¤`stopAutoCleanup`æ–¹æ³•
- [ ] Commit messageæ¸…æ™°æè¿°ä¿®å¤

##### A2. ä¿®å¤system-improvementsæµ‹è¯•
**æ–‡ä»¶**: `packages/core/test/system-improvements.test.ts`
**é¢„è®¡æ—¶é—´**: 30åˆ†é’Ÿ

```bash
# ä¿®å¤å†…å®¹:
# 1. ç§»é™¤é”™è¯¯çš„require('../src/utils/functions')
# 2. æ ‡è®°æœªå®ç°åŠŸèƒ½ä¸º.skip()
# 3. æ›´æ–°é”™è¯¯ç æœŸæœ›å€¼
```

**æ£€æŸ¥æ¸…å•**:
- [ ] ç§»é™¤beforeEachä¸­çš„requireè¯­å¥
- [ ] è·¨è¡¨å¼•ç”¨æµ‹è¯•æ ‡è®°ä¸º`.skip()`
- [ ] é”™è¯¯ç æµ‹è¯•æ›´æ–°ä¸º`expect('#ERROR!')`
- [ ] æ·»åŠ TODOæ³¨é‡Šè¯´æ˜è·³è¿‡åŸå› 

##### A3. åˆ›å»ºPRå¹¶éªŒè¯
**é¢„è®¡æ—¶é—´**: 30åˆ†é’Ÿ

```bash
# åˆ›å»ºPR
gh pr create \
  --title "fix(core): ä¿®å¤packages/coreæµ‹è¯•å¤±è´¥ (#316)" \
  --body-file docs/merge-reports-2025-10/pr_body_316_fix.md \
  --label "bug"

# ç­‰å¾…CIå®Œæˆ
gh pr checks --watch

# éªŒè¯ç»“æœ
gh run list --branch fix/dompool-node-compat --limit 1
```

**æˆåŠŸæ ‡å‡†**:
- [ ] æ‰€æœ‰packages/coreæµ‹è¯•é€šè¿‡
- [ ] Deploy workflowå®Œæ•´é€šè¿‡
- [ ] æ— æ–°å¢æµ‹è¯•å¤±è´¥
- [ ] Code reviewé€šè¿‡

##### A4. åˆå¹¶å¹¶å…³é—­Issue
**é¢„è®¡æ—¶é—´**: 10åˆ†é’Ÿ

```bash
# åˆå¹¶PR
gh pr merge --squash --delete-branch

# å…³é—­Issue
gh issue close 316 --comment "Fixed by PR #[number]"

# éªŒè¯CIå¥åº·åº¦
gh run list --branch main --limit 3
```

**æ£€æŸ¥æ¸…å•**:
- [ ] PRæˆåŠŸåˆå¹¶åˆ°main
- [ ] Issue #316å·²å…³é—­
- [ ] CIå¥åº·åº¦è¾¾åˆ°100%
- [ ] Deploy workflowå…¨ç»¿

---

### B. PRåˆå¹¶æµç¨‹ç»§ç»­

**ä¼˜å…ˆçº§**: ğŸŸ¡ é‡è¦
**é¢„è®¡æ—¶é—´**: 2-4å°æ—¶

#### B1. è¯„ä¼°å‰©ä½™å¼€æ”¾PR
**é¢„è®¡æ—¶é—´**: 30åˆ†é’Ÿ

```bash
# åˆ—å‡ºæ‰€æœ‰å¼€æ”¾PR
gh pr list --state open --limit 20 --json number,title,headRefName,updatedAt

# å½“å‰å·²çŸ¥çš„PR (15ä¸ª):
# - Dependabot PRs: 7ä¸ª (ä¾èµ–æ›´æ–°)
# - Feature PRs: 4ä¸ª (#145, #144, #143, #142)
# - Demo/Test PRs: 3ä¸ª (#304, #303, #302)
# - Chore PR: 1ä¸ª (#215)
```

**æ£€æŸ¥æ¸…å•**:
- [ ] åˆ—å‡ºæ‰€æœ‰å¼€æ”¾PRåŠå…¶çŠ¶æ€
- [ ] è¯†åˆ«å¯ä»¥å¿«é€Ÿåˆå¹¶çš„PR (Dependabot)
- [ ] è¯†åˆ«éœ€è¦æ·±å…¥å®¡æŸ¥çš„PR (Feature)
- [ ] è¯†åˆ«å¯ä»¥å…³é—­çš„PR (Demo/è¿‡æ—¶)

#### B2. å¤„ç†Dependabot PRs (ä¼˜å…ˆ)
**é¢„è®¡æ—¶é—´**: 1-2å°æ—¶

```bash
# ç¤ºä¾‹: åˆå¹¶dependencyæ›´æ–°PR
gh pr view 308  # dev-dependenciesæ›´æ–°
gh pr checks 308  # æ£€æŸ¥CIçŠ¶æ€

# å¦‚æœCIé€šè¿‡
gh pr merge 308 --squash --delete-branch

# æ‰¹é‡å¤„ç†
for pr in 308 307 306 299 298 297 296; do
  echo "Processing PR #$pr"
  gh pr checks $pr
  # æ‰‹åŠ¨ç¡®è®¤ååˆå¹¶
done
```

**æ£€æŸ¥æ¸…å•**:
- [ ] PR #308 (dev-dependencies) - è¯„ä¼°å’Œåˆå¹¶
- [ ] PR #307 (inquirerå‡çº§) - è¯„ä¼°å’Œåˆå¹¶
- [ ] PR #299 (vitestå‡çº§) - è¯„ä¼°å’Œåˆå¹¶
- [ ] PR #298 (oraå‡çº§) - è¯„ä¼°å’Œåˆå¹¶
- [ ] PR #297 (@types/nodeå‡çº§) - è¯„ä¼°å’Œåˆå¹¶
- [ ] PR #296 (element-pluså‡çº§) - è¯„ä¼°å’Œåˆå¹¶
- [ ] PR #294 (node dockerå‡çº§) - è¯„ä¼°å’Œåˆå¹¶

#### B3. å®¡æŸ¥Feature PR #145
**æ ‡é¢˜**: feat: Implement Phase 3 RealShare metrics and enhanced observability
**é¢„è®¡æ—¶é—´**: 1å°æ—¶

```bash
# æŸ¥çœ‹PRè¯¦æƒ…
gh pr view 145

# æ£€æŸ¥ä¸PR 151çš„å…³ç³»
gh pr diff 145 --name-only | grep -E "metrics|observability"

# æŸ¥çœ‹å†²çª
gh pr checks 145
```

**åˆ†æè¦ç‚¹**:
- [ ] ä¸PR 151çš„overlapç¨‹åº¦
- [ ] æ˜¯å¦æœ‰æ–°çš„æŒ‡æ ‡å®šä¹‰
- [ ] RealShareåŠŸèƒ½å®Œæ•´æ€§
- [ ] æµ‹è¯•è¦†ç›–ç‡

**å†³ç­–é€‰é¡¹**:
- âœ… **åˆå¹¶** - å¦‚æœä¸PR 151å…¼å®¹
- âš ï¸ **éœ€è¦rebase** - å¦‚æœæœ‰å†²çª
- ğŸ”„ **éœ€è¦æ›´æ–°** - å¦‚æœä¾èµ–PR 151çš„æ”¹åŠ¨
- âŒ **å…³é—­** - å¦‚æœåŠŸèƒ½é‡å¤

#### B4. æ¸…ç†Demo/Test PRs
**é¢„è®¡æ—¶é—´**: 30åˆ†é’Ÿ

```bash
# æŸ¥çœ‹Demo PRè¯¦æƒ…
gh pr view 304  # migration header validation
gh pr view 303  # quality gates error scenario
gh pr view 302  # quality gates warn scenario

# å†³ç­–: è¿™äº›æ˜¯æµ‹è¯•ç”¨çš„PRï¼Œå¯èƒ½éœ€è¦å…³é—­
gh pr close 304 --comment "Demo PR - åŠŸèƒ½å·²éªŒè¯ï¼Œå…³é—­ä»¥æ¸…ç†PRåˆ—è¡¨"
gh pr close 303 --comment "Demo PR - åŠŸèƒ½å·²éªŒè¯ï¼Œå…³é—­ä»¥æ¸…ç†PRåˆ—è¡¨"
gh pr close 302 --comment "Demo PR - åŠŸèƒ½å·²éªŒè¯ï¼Œå…³é—­ä»¥æ¸…ç†PRåˆ—è¡¨"
```

**æ£€æŸ¥æ¸…å•**:
- [ ] ç¡®è®¤PR #304çš„æµ‹è¯•ç›®çš„
- [ ] ç¡®è®¤PR #303çš„æµ‹è¯•ç›®çš„
- [ ] ç¡®è®¤PR #302çš„æµ‹è¯•ç›®çš„
- [ ] å†³å®šä¿ç•™æˆ–å…³é—­

---

### C. è¡¥å……æµ‹è¯•è¦†ç›–

**ä¼˜å…ˆçº§**: ğŸŸ¡ é‡è¦
**é¢„è®¡æ—¶é—´**: 2-3å°æ—¶

#### C1. PR 151åŠŸèƒ½å•å…ƒæµ‹è¯•
**é¢„è®¡æ—¶é—´**: 1.5å°æ—¶

```bash
# åˆ›å»ºæµ‹è¯•æ–‡ä»¶
# packages/core-backend/test/telemetry/hot-reload.test.ts
# packages/core-backend/test/metrics/config-metrics.test.ts
# packages/core-backend/test/audit/config-audit.test.ts
```

**æµ‹è¯•æ¸…å•**:

##### é¥æµ‹çƒ­é‡è½½æµ‹è¯•
```typescript
// test/telemetry/hot-reload.test.ts
describe('Telemetry Hot Reload', () => {
  it('åº”è¯¥æ£€æµ‹é‡‡æ ·ç‡å˜åŒ–', async () => {
    const oldCfg = { telemetry: { enabled: true, samplingRate: 0.1 } }
    const newCfg = { telemetry: { enabled: true, samplingRate: 0.5 } }
    const result = await restartTelemetryIfNeeded(oldCfg, newCfg)

    expect(result.changed).toContain('telemetry.samplingRate')
    expect(result.restarted).toBe(true)
  })

  it('æ— å˜åŒ–æ—¶ä¸åº”é‡å¯', async () => {
    const cfg = { telemetry: { enabled: true, samplingRate: 0.1 } }
    const result = await restartTelemetryIfNeeded(cfg, cfg)

    expect(result.changed).toHaveLength(0)
    expect(result.restarted).toBe(false)
  })
})
```

**æ£€æŸ¥æ¸…å•**:
- [ ] é¥æµ‹é‡å¯æ£€æµ‹æµ‹è¯•
- [ ] é…ç½®ç‰ˆæœ¬é€’å¢æµ‹è¯•
- [ ] é‡‡æ ·ç‡æ›´æ–°æµ‹è¯•
- [ ] å®¡è®¡æ—¥å¿—è®°å½•æµ‹è¯•
- [ ] æ ‡ç­¾å‚æ•°æ­£ç¡®æ€§æµ‹è¯•

#### C2. é›†æˆæµ‹è¯•
**é¢„è®¡æ—¶é—´**: 1å°æ—¶

```bash
# è¿è¡Œç°æœ‰é›†æˆæµ‹è¯•
pnpm -F @metasheet/core-backend test:integration

# æ£€æŸ¥è¦†ç›–ç‡
pnpm -F @metasheet/core-backend test:coverage
```

**æ£€æŸ¥æ¸…å•**:
- [ ] é…ç½®é‡è½½APIç«¯åˆ°ç«¯æµ‹è¯•
- [ ] PrometheusæŒ‡æ ‡é‡‡é›†æµ‹è¯•
- [ ] å®¡è®¡æ—¥å¿—æŒä¹…åŒ–æµ‹è¯•
- [ ] æµ‹è¯•è¦†ç›–ç‡ > 80%

---

### D. æ–‡æ¡£æ›´æ–°

**ä¼˜å…ˆçº§**: ğŸŸ¢ ä¸­ä½
**é¢„è®¡æ—¶é—´**: 1-2å°æ—¶

#### D1. ç”¨æˆ·æ–‡æ¡£
**é¢„è®¡æ—¶é—´**: 1å°æ—¶

```bash
# éœ€è¦æ›´æ–°çš„æ–‡æ¡£
docs/configuration-management.md  # æ–°å¢çƒ­é‡è½½è¯´æ˜
docs/observability.md              # æ–°å¢æŒ‡æ ‡è¯´æ˜
docs/ci-testing.md                 # æ–°å¢CIè„šæœ¬ç”¨æ³•
```

**å†…å®¹æ¸…å•**:

##### configuration-management.md
- [ ] é…ç½®çƒ­é‡è½½åŠŸèƒ½è¯´æ˜
- [ ] APIä½¿ç”¨ç¤ºä¾‹
- [ ] é¥æµ‹é‡å¯è¡Œä¸º
- [ ] å®¡è®¡æ—¥å¿—æ ¼å¼
- [ ] æ•…éšœæ’æŸ¥æŒ‡å—

##### observability.md
- [ ] config_versionæŒ‡æ ‡è¯´æ˜
- [ ] config_reload_totalæŒ‡æ ‡è¯´æ˜
- [ ] config_sampling_rateæŒ‡æ ‡è¯´æ˜
- [ ] PromQLæŸ¥è¯¢ç¤ºä¾‹
- [ ] Grafanaä»ªè¡¨æ¿é…ç½®

##### ci-testing.md
- [ ] start-backend-with-diagnostics.shç”¨æ³•
- [ ] force-rbac-activity.shç”¨æ³•
- [ ] extract-realshare.shç”¨æ³•
- [ ] CIç¯å¢ƒå˜é‡é…ç½®

#### D2. APIæ–‡æ¡£æ›´æ–°
**é¢„è®¡æ—¶é—´**: 30åˆ†é’Ÿ

```bash
# æ£€æŸ¥OpenAPIè§„èŒƒæ˜¯å¦éœ€è¦æ›´æ–°
cat packages/openapi/openapi.yaml | grep -A 10 "/admin/config/reload"
```

**æ£€æŸ¥æ¸…å•**:
- [ ] `/api/admin/config/reload`å“åº”æ ¼å¼æ›´æ–°
- [ ] æ–°å¢`meta.telemetryRestart`å­—æ®µè¯´æ˜
- [ ] æ–°å¢`meta.changedKeys`å­—æ®µè¯´æ˜
- [ ] ç¤ºä¾‹å“åº”æ›´æ–°

---

## ğŸŸ¢ æœ¬æœˆä»»åŠ¡ (1-4å‘¨)

### E. ä»£ç è´¨é‡æ”¹è¿›

**ä¼˜å…ˆçº§**: ğŸŸ¢ ä½ä¸­
**é¢„è®¡æ—¶é—´**: 4-6å°æ—¶

#### E1. æŒ‡æ ‡å°è£…å±‚
**é¢„è®¡æ—¶é—´**: 2å°æ—¶

```typescript
// src/metrics/config-metrics.ts
export class ConfigMetrics {
  static recordReload(success: boolean, telemetryRestart: boolean): void {
    const result = success ? 'success' : 'error'
    metrics.configReloadTotal.labels(result, telemetryRestart.toString()).inc()

    if (success) {
      metrics.configVersionGauge.inc()
    }
  }

  static updateSamplingRate(rate: number): void {
    if (rate < 0 || rate > 1) {
      throw new Error(`Invalid sampling rate: ${rate}`)
    }
    metrics.configSamplingRate.set(rate)
  }

  static getCurrentVersion(): number {
    return metrics.configVersionGauge.get()
  }
}
```

**æ£€æŸ¥æ¸…å•**:
- [ ] åˆ›å»ºConfigMetricså°è£…ç±»
- [ ] è¿ç§»æ‰€æœ‰é…ç½®ç›¸å…³æŒ‡æ ‡è°ƒç”¨
- [ ] æ·»åŠ å‚æ•°éªŒè¯
- [ ] ç¼–å†™å•å…ƒæµ‹è¯•
- [ ] æ›´æ–°ä½¿ç”¨æ–‡æ¡£

#### E2. é…ç½®å˜æ›´é€šçŸ¥
**é¢„è®¡æ—¶é—´**: 2å°æ—¶

```typescript
// src/config/change-notifier.ts
export class ConfigChangeNotifier {
  static async notify(change: ConfigChange): Promise<void> {
    // Slacké€šçŸ¥
    if (change.changedKeys.some(k => k.startsWith('telemetry'))) {
      await slack.send({
        channel: '#observability',
        text: `âš™ï¸ é¥æµ‹é…ç½®å·²å˜æ›´\nå˜æ›´é”®: ${change.changedKeys.join(', ')}`
      })
    }

    // é‚®ä»¶é€šçŸ¥ (å…³é”®é…ç½®)
    if (change.changedKeys.includes('telemetry.enabled')) {
      await email.send({
        to: 'ops@example.com',
        subject: 'ğŸš¨ é¥æµ‹ç³»ç»ŸçŠ¶æ€å˜æ›´',
        body: `é¥æµ‹ç³»ç»Ÿå·²${change.newValue ? 'å¯ç”¨' : 'ç¦ç”¨'}`
      })
    }
  }
}
```

**æ£€æŸ¥æ¸…å•**:
- [ ] å®ç°é€šçŸ¥æ¥å£
- [ ] é›†æˆSlack webhook
- [ ] é›†æˆé‚®ä»¶æœåŠ¡
- [ ] é…ç½®é€šçŸ¥è§„åˆ™
- [ ] æµ‹è¯•é€šçŸ¥è§¦å‘

#### E3. é”™è¯¯å¤„ç†æ”¹è¿›
**é¢„è®¡æ—¶é—´**: 2å°æ—¶

```typescript
// æ”¹è¿›geoip-liteç¼ºå¤±é—®é¢˜
try {
  const geoip = await import('geoip-lite')
  this.geoip = geoip
} catch (error) {
  logger.warn('geoip-lite not available, IP geolocation disabled')
  this.geoip = null
}

// ä½¿ç”¨æ—¶æ£€æŸ¥
if (this.geoip) {
  const location = this.geoip.lookup(ip)
}
```

**æ£€æŸ¥æ¸…å•**:
- [ ] ä¿®å¤geoip-liteå¯é€‰ä¾èµ–
- [ ] æ·»åŠ ä¼˜é›…é™çº§é€»è¾‘
- [ ] æ›´æ–°TypeScriptç±»å‹
- [ ] æµ‹è¯•æ— geoipåœºæ™¯

---

### F. é…ç½®ç‰ˆæœ¬æ§åˆ¶ (é•¿æœŸåŠŸèƒ½)

**ä¼˜å…ˆçº§**: ğŸŸ¢ ä½
**é¢„è®¡æ—¶é—´**: 8-12å°æ—¶

#### F1. è®¾è®¡å’Œè§„åˆ’
**é¢„è®¡æ—¶é—´**: 2å°æ—¶

```bash
# åˆ›å»ºè®¾è®¡æ–‡æ¡£
docs/design/config-version-control.md
```

**è®¾è®¡è¦ç‚¹**:
- [ ] æ•°æ®åº“schemaè®¾è®¡ (config_versionsè¡¨)
- [ ] APIæ¥å£è®¾è®¡ (list/diff/rollback)
- [ ] å®Œæ•´æ€§éªŒè¯ (SHA256å“ˆå¸Œ)
- [ ] æƒé™æ§åˆ¶ (RBACé›†æˆ)
- [ ] å›æ»šç­–ç•¥ (å®‰å…¨æ£€æŸ¥)

#### F2. å®ç°æ ¸å¿ƒåŠŸèƒ½
**é¢„è®¡æ—¶é—´**: 6å°æ—¶

**å®ç°æ¸…å•**:
- [ ] ConfigVersionControlç±»
- [ ] æ•°æ®åº“è¿ç§»è„šæœ¬
- [ ] ä¿å­˜ç‰ˆæœ¬é€»è¾‘
- [ ] ç‰ˆæœ¬æŸ¥è¯¢API
- [ ] ç‰ˆæœ¬å¯¹æ¯”åŠŸèƒ½
- [ ] å›æ»šåŠŸèƒ½

#### F3. æµ‹è¯•å’Œæ–‡æ¡£
**é¢„è®¡æ—¶é—´**: 4å°æ—¶

**æ£€æŸ¥æ¸…å•**:
- [ ] å•å…ƒæµ‹è¯• (è¦†ç›–ç‡>90%)
- [ ] é›†æˆæµ‹è¯•
- [ ] APIæ–‡æ¡£
- [ ] ç”¨æˆ·æŒ‡å—
- [ ] è¿ç»´æ‰‹å†Œ

---

## ğŸ”µ ä½ä¼˜å…ˆçº§ä»»åŠ¡ (æ—¶é—´å…è®¸æ—¶)

### G. æ€§èƒ½ä¼˜åŒ–

**é¢„è®¡æ—¶é—´**: æŒ‰éœ€

#### G1. æŒ‡æ ‡é‡‡é›†æ€§èƒ½
- [ ] è¯„ä¼°Prometheus clientæ€§èƒ½å¼€é”€
- [ ] è€ƒè™‘å¼‚æ­¥æŒ‡æ ‡ä¸ŠæŠ¥
- [ ] å®ç°æŒ‡æ ‡èšåˆæ‰¹å¤„ç†

#### G2. é…ç½®ç¼“å­˜
- [ ] å®ç°é…ç½®è¯»å–ç¼“å­˜
- [ ] å‡å°‘æ–‡ä»¶ç³»ç»Ÿè®¿é—®
- [ ] ç¼“å­˜å¤±æ•ˆç­–ç•¥

#### G3. çƒ­é‡è½½ä¼˜åŒ–
- [ ] å‡å°‘ä¸å¿…è¦çš„é‡å¯
- [ ] å¢é‡é…ç½®æ›´æ–°
- [ ] å¹³æ»‘è¿‡æ¸¡æœºåˆ¶

---

### H. ç›‘æ§å’Œå‘Šè­¦

**é¢„è®¡æ—¶é—´**: æŒ‰éœ€

#### H1. Prometheuså‘Šè­¦è§„åˆ™
```yaml
# alerts/config-changes.yml
groups:
  - name: config_changes
    rules:
      - alert: ConfigVersionChanged
        expr: delta(config_version[5m]) > 0
        annotations:
          summary: "é…ç½®ç‰ˆæœ¬å·²å˜æ›´"

      - alert: ConfigReloadFailure
        expr: rate(config_reload_total{result="error"}[5m]) > 0
        annotations:
          summary: "é…ç½®é‡è½½å¤±è´¥"
```

**æ£€æŸ¥æ¸…å•**:
- [ ] åˆ›å»ºå‘Šè­¦è§„åˆ™æ–‡ä»¶
- [ ] é…ç½®Alertmanager
- [ ] æµ‹è¯•å‘Šè­¦è§¦å‘
- [ ] è®¾ç½®é€šçŸ¥æ¸ é“

#### H2. Grafanaä»ªè¡¨æ¿
**æ£€æŸ¥æ¸…å•**:
- [ ] é…ç½®ç‰ˆæœ¬è¶‹åŠ¿å›¾
- [ ] é…ç½®é‡è½½æˆåŠŸç‡
- [ ] é¥æµ‹é‡å¯é¢‘ç‡
- [ ] é‡‡æ ·ç‡å†å²

---

## ğŸ“Š è¿›åº¦è¿½è¸ª

### æœ¬å‘¨ç›®æ ‡ (Week 1)

```
[ ] ä¿®å¤Deployæµ‹è¯•å¤±è´¥ (Issue #316)
[ ] å¤„ç†5-7ä¸ªDependabot PRs
[ ] è¯„ä¼°Feature PR #145
[ ] è¡¥å……PR 151å•å…ƒæµ‹è¯•
```

**æˆåŠŸæ ‡å‡†**:
- CIå¥åº·åº¦: 80% â†’ 100%
- å¼€æ”¾PR: 15ä¸ª â†’ 8ä¸ªä»¥ä¸‹
- æµ‹è¯•è¦†ç›–ç‡: ä¿æŒ > 80%
- æ–‡æ¡£å®Œæ•´æ€§: æ ¸å¿ƒåŠŸèƒ½100%

### æœ¬æœˆç›®æ ‡ (Month 1)

```
[ ] æ‰€æœ‰Dependabot PRså¤„ç†å®Œæ¯•
[ ] Feature PRså®¡æŸ¥å’Œåˆå¹¶
[ ] å®Œæ•´æµ‹è¯•è¦†ç›–
[ ] æ‰€æœ‰æ–‡æ¡£æ›´æ–°å®Œæˆ
[ ] ä»£ç è´¨é‡æ”¹è¿› (æŒ‡æ ‡å°è£…ã€é€šçŸ¥)
```

**æˆåŠŸæ ‡å‡†**:
- å¼€æ”¾PR: < 5ä¸ª
- CIå¥åº·åº¦: 100%
- æµ‹è¯•è¦†ç›–ç‡: > 85%
- ä»£ç è´¨é‡: Açº§

---

## ğŸ¯ é‡Œç¨‹ç¢‘

### Milestone 1: CIå®Œå…¨å¥åº· âœ…
**ç›®æ ‡æ—¥æœŸ**: 2025-10-28 (æ˜å¤©)
**å…³é”®ä»»åŠ¡**:
- [x] PR 151åˆå¹¶
- [ ] Issue #316ä¿®å¤

### Milestone 2: PRç§¯å‹æ¸…ç†
**ç›®æ ‡æ—¥æœŸ**: 2025-11-03 (1å‘¨)
**å…³é”®ä»»åŠ¡**:
- [ ] 7ä¸ªDependabot PRså¤„ç†
- [ ] 3ä¸ªDemo PRså…³é—­
- [ ] Feature PR #145å†³ç­–

### Milestone 3: æµ‹è¯•å’Œæ–‡æ¡£å®Œå–„
**ç›®æ ‡æ—¥æœŸ**: 2025-11-10 (2å‘¨)
**å…³é”®ä»»åŠ¡**:
- [ ] å•å…ƒæµ‹è¯•è¡¥å……
- [ ] æ–‡æ¡£æ›´æ–°å®Œæˆ
- [ ] ä»£ç è´¨é‡æ”¹è¿›

### Milestone 4: é«˜çº§åŠŸèƒ½
**ç›®æ ‡æ—¥æœŸ**: 2025-11-24 (4å‘¨)
**å…³é”®ä»»åŠ¡**:
- [ ] é…ç½®ç‰ˆæœ¬æ§åˆ¶
- [ ] ç›‘æ§å‘Šè­¦å®Œå–„
- [ ] æ€§èƒ½ä¼˜åŒ–

---

## ğŸ“ åä½œå’Œæ²Ÿé€š

### éœ€è¦åè°ƒçš„äº‹é¡¹

#### ä¸å›¢é˜Ÿæˆå‘˜
- [ ] PR 151åŠŸèƒ½æ¼”ç¤ºå’ŒåŸ¹è®­
- [ ] é…ç½®çƒ­é‡è½½ä½¿ç”¨æŒ‡å—åˆ†äº«
- [ ] CIä¿®å¤ç»éªŒåˆ†äº«

#### ä¸è¿ç»´å›¢é˜Ÿ
- [ ] æ–°æŒ‡æ ‡ç›‘æ§é…ç½®
- [ ] å‘Šè­¦è§„åˆ™è¯„å®¡
- [ ] è¿ç»´æ–‡æ¡£äº¤æ¥

#### ä¸QAå›¢é˜Ÿ
- [ ] æµ‹è¯•ç”¨ä¾‹è¯„å®¡
- [ ] é›†æˆæµ‹è¯•åä½œ
- [ ] å›å½’æµ‹è¯•è®¡åˆ’

---

## ğŸ”„ æ¯æ—¥æ£€æŸ¥æ¸…å•

### æ¯æ—¥å¼€å§‹
```bash
# 1. åŒæ­¥ä»£ç 
git checkout main && git pull origin main

# 2. æ£€æŸ¥CIçŠ¶æ€
gh run list --branch main --limit 3

# 3. æŸ¥çœ‹å¼€æ”¾PR
gh pr list --state open --limit 10

# 4. æŸ¥çœ‹issue
gh issue list --assignee "@me" --state open
```

### æ¯æ—¥ç»“æŸ
```bash
# 1. æäº¤ä»£ç 
git status
git add . && git commit -m "..."

# 2. æ¨é€ä»£ç 
git push origin <branch>

# 3. æ›´æ–°TODO
# æ ‡è®°å®Œæˆçš„ä»»åŠ¡

# 4. è®°å½•é˜»å¡é—®é¢˜
# å¦‚æœ‰é˜»å¡ï¼Œåˆ›å»ºissueæˆ–è®°å½•
```

---

## ğŸ“ ä»»åŠ¡æ¨¡æ¿

### æ–°ä»»åŠ¡æ·»åŠ æ¨¡æ¿

```markdown
### [ä»»åŠ¡ç¼–å·]. [ä»»åŠ¡åç§°]

**ä¼˜å…ˆçº§**: ğŸ”´/ğŸŸ¡/ğŸŸ¢/ğŸ”µ
**é¢„è®¡æ—¶é—´**: Xå°æ—¶
**è´Ÿè´£äºº**:
**ä¾èµ–**:
**ç›¸å…³Issue/PR**:

#### ä»»åŠ¡æè¿°
[è¯¦ç»†æè¿°]

#### æ‰§è¡Œæ­¥éª¤
1. [ ] æ­¥éª¤1
2. [ ] æ­¥éª¤2
3. [ ] æ­¥éª¤3

#### æ£€æŸ¥æ¸…å•
- [ ] æ£€æŸ¥é¡¹1
- [ ] æ£€æŸ¥é¡¹2

#### æˆåŠŸæ ‡å‡†
- [ ] æ ‡å‡†1
- [ ] æ ‡å‡†2
```

---

## ğŸ‰ æ¿€åŠ±å’Œé‡Œç¨‹ç¢‘åº†ç¥

### å·²è¾¾æˆçš„æˆå°± (2025-10-27)
- âœ… PR 151æˆåŠŸåˆå¹¶ ğŸŠ
- âœ… CIå¥åº·åº¦æå‡åˆ°80%
- âœ… 11ä¸ªå†²çªå®Œç¾è§£å†³
- âœ… 31,000å­—æ–‡æ¡£ç”Ÿæˆ
- âœ… ç³»ç»Ÿå¯è§‚æµ‹æ€§æ˜¾è‘—æå‡

### ä¸‹ä¸€ä¸ªåº†ç¥ç‚¹
- ğŸ¯ CIå¥åº·åº¦è¾¾åˆ°100%
- ğŸ¯ æ‰€æœ‰Dependabot PRså¤„ç†å®Œæ¯•
- ğŸ¯ å¼€æ”¾PRæ•°é‡ < 5ä¸ª
- ğŸ¯ æµ‹è¯•è¦†ç›–ç‡ > 85%

---

## ğŸ“š å‚è€ƒèµ„æº

### æ–‡æ¡£
- [PR 151åˆå¹¶æŠ¥å‘Š](PR151_MERGE_RESOLUTION_REPORT_20251027.md)
- [CIä¿®å¤æŠ¥å‘Š](CI_FAILURE_FIX_REPORT_20251027.md)
- [ä¼šè¯æ€»ç»“](SESSION_SUMMARY_20251027.md)
- [Deployä¿®å¤æ–¹æ¡ˆ](DEPLOY_TEST_FIX_PLAN_20251027.md)

### Issue
- [#316 - Deployæµ‹è¯•å¤±è´¥](https://github.com/zensgit/smartsheet/issues/316)

### ç›¸å…³PR
- [#151 - CI health endpoint](https://github.com/zensgit/smartsheet/pull/151) âœ…
- [#157 - Kanban SQL threshold](https://github.com/zensgit/smartsheet/pull/157) âŒ Closed
- [#145 - Phase 3 RealShare](https://github.com/zensgit/smartsheet/pull/145) ğŸ”„ Open

---

**æœ€åæ›´æ–°**: 2025-10-27
**ä¸‹æ¬¡å®¡æŸ¥**: 2025-10-28 (æ¯æ—¥å®¡æŸ¥)
**ç»´æŠ¤è€…**: @me

---

*æœ¬TODOè®¡åˆ’åŸºäºå½“å‰é¡¹ç›®çŠ¶æ€è‡ªåŠ¨ç”Ÿæˆï¼Œåº”è¯¥æ ¹æ®å®é™…è¿›å±•å®šæœŸæ›´æ–°ã€‚*
