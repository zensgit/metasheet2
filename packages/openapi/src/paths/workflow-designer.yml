paths:
  /api/workflow-designer/node-types:
    get:
      summary: List workflow designer node types
      security: [ { bearerAuth: [] } ]
      responses:
        '200': { description: OK }
  /api/workflow-designer/templates:
    get:
      summary: List workflow templates
      security: [ { bearerAuth: [] } ]
      parameters:
        - in: query
          name: category
          schema: { type: string }
        - in: query
          name: featured
          schema: { type: boolean }
      responses:
        '200': { description: OK }
  /api/workflow-designer/workflows:
    post:
      summary: Create workflow
      security: [ { bearerAuth: [] } ]
      requestBody:
        required: true
        content:
          application/json:
            schema: { type: object }
      responses:
        '201': { description: Created }
        '400': { $ref: '#/components/responses/ValidationError' }
    get:
      summary: List workflows
      security: [ { bearerAuth: [] } ]
      parameters:
        - in: query
          name: category
          schema: { type: string }
        - in: query
          name: status
          schema: { type: string }
        - in: query
          name: search
          schema: { type: string }
      responses:
        '200': { description: OK }
  /api/workflow-designer/workflows/{id}:
    get:
      summary: Get workflow details
      security: [ { bearerAuth: [] } ]
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
      responses:
        '200': { description: OK }
        '403': { $ref: '#/components/responses/Forbidden' }
        '404': { $ref: '#/components/responses/NotFound' }
    put:
      summary: Update workflow
      security: [ { bearerAuth: [] } ]
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
      requestBody:
        required: true
        content:
          application/json:
            schema: { type: object }
      responses:
        '200': { description: OK }
        '400': { $ref: '#/components/responses/ValidationError' }
        '403': { $ref: '#/components/responses/Forbidden' }
        '404': { $ref: '#/components/responses/NotFound' }
  /api/workflow-designer/workflows/{id}/validate:
    post:
      summary: Validate workflow
      security: [ { bearerAuth: [] } ]
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
      responses:
        '200': { description: OK }
        '404': { $ref: '#/components/responses/NotFound' }
  /api/workflow-designer/workflows/{id}/deploy:
    post:
      summary: Deploy workflow
      security: [ { bearerAuth: [] } ]
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
      responses:
        '200': { description: OK }
        '403': { $ref: '#/components/responses/Forbidden' }
        '404': { $ref: '#/components/responses/NotFound' }
  /api/workflow-designer/workflows/{id}/test:
    post:
      summary: Test workflow
      security: [ { bearerAuth: [] } ]
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                variables: { type: object }
      responses:
        '200': { description: OK }
        '404': { $ref: '#/components/responses/NotFound' }
  /api/workflow-designer/workflows/{id}/executions:
    get:
      summary: List workflow executions
      security: [ { bearerAuth: [] } ]
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
        - in: query
          name: limit
          schema: { type: integer, default: 50 }
      responses:
        '200': { description: OK }
  /api/workflow-designer/workflows/{id}/share:
    post:
      summary: Share workflow
      security: [ { bearerAuth: [] } ]
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                userId: { type: string }
                role: { type: string }
                permissions: { type: object }
              required: [userId, role]
      responses:
        '200': { description: OK }
        '403': { $ref: '#/components/responses/Forbidden' }
