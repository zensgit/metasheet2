{"version":3,"file":"permission-metrics-middleware.js","sourceRoot":"","sources":["../../src/middleware/permission-metrics-middleware.ts"],"names":[],"mappings":"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"}