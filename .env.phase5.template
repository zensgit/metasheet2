# Phase 5 Production Baseline Environment Template
# Copy this to .env.phase5 and fill in actual values

# Production Metrics Endpoint (Prometheus/Grafana)
METRICS_URL=http://prod:9090

# Production Admin JWT Token (request from DevOps)
PROD_JWT=<待填写>

# Feature Flags
COUNT_CACHE_MISS_AS_FALLBACK=false
ENABLE_PHASE5_INTERNAL=false
ENABLE_FALLBACK_TEST=false

# Effective fallback SLO target (percentage) – excludes cache misses when COUNT_CACHE_MISS_AS_FALLBACK=false
EFFECTIVE_FALLBACK_SLO_TARGET=5

# Performance SLO Targets (from Phase 4 staging results)
# Latency targets in milliseconds (ms) → converted to seconds in report script
P95_LATENCY_TARGET=150    # 0.150s
P99_LATENCY_TARGET=250    # 0.250s
# Memory target in megabytes (MB) - RSS memory usage
MEMORY_SLO_TARGET=500

# Cache Performance Targets
CACHE_HIT_RATE_TARGET=80  # Minimum cache hit rate percentage (hits / (hits + misses))
CACHE_MISS_AS_FALLBACK_THRESHOLD=10  # Maximum fallback percentage allowed

# Success Rate Targets (percentage)
PLUGIN_RELOAD_SUCCESS_RATE_TARGET=95  # plugin_reload_success / (success + failure)
SNAPSHOT_SUCCESS_RATE_TARGET=99       # (snapshot_create_success + snapshot_restore_success) / all snapshot ops
ERROR_RATE_THRESHOLD=1  # Maximum error rate percentage

# Load Testing Parameters
LOAD_BASE_URL=http://production-url
LOAD_SAMPLES=12
LOAD_DURATION=120  # seconds, used by load script (--duration-seconds)
LOAD_RATE=80
LOAD_CONCURRENCY=20

# Optional: Database connection for capacity metrics
# DB_PROD_HOST=
# DB_PROD_USER=
# DB_PROD_PASS=
