# MetaSheet v2 Environment Variables Template
# Copy this file to .env and update values for your environment

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DATABASE_URL=postgresql://localhost:5432/metasheet_dev
# For production:
# DATABASE_URL=postgresql://user:password@host:5432/metasheet_prod

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
PORT=8900
NODE_ENV=development
# Options: development, test, production

# =============================================================================
# AUTHENTICATION
# =============================================================================
JWT_SECRET=change-me-in-production
JWT_EXPIRES_IN=2h
# IMPORTANT: Generate a strong secret for production using:
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"

# =============================================================================
# REDIS CACHE (Optional)
# =============================================================================
REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=your-redis-password
# REDIS_TLS=false

# =============================================================================
# OBSERVABILITY - Phase 5
# =============================================================================
# Production Prometheus endpoint (required for Phase 5)
METRICS_URL=http://localhost:9090
# METRICS_URL=https://prometheus.prod.example.com:9090

# Observation configuration
INTERVAL_SECONDS=600
MAX_SAMPLES=12
OBS_WINDOW_LABEL=phase5-prod-2h
OUT_DIR=artifacts

# =============================================================================
# ALERTING (Optional)
# =============================================================================
# Slack webhook for alerts
# ALERT_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# GitHub Issue creation
# CREATE_GH_ISSUE=true
# GH_REPO=zensgit/metasheet2

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=info
# Options: error, warn, info, debug, trace
LOG_FORMAT=json
# Options: json, pretty

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_CACHE=true
ENABLE_METRICS=true
ENABLE_AUDIT_LOG=true
# ENABLE_WEBHOOK=false  # Future feature
# Enforce commit token for attendance CSV imports
ATTENDANCE_IMPORT_REQUIRE_TOKEN=0

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
CORS_ORIGIN=http://localhost:3000
# For multiple origins: CORS_ORIGIN=http://localhost:3000,https://app.example.com

# =============================================================================
# FILE UPLOAD
# =============================================================================
MAX_FILE_SIZE=10485760
# 10MB in bytes
UPLOAD_DIR=./uploads

# =============================================================================
# PLUGIN SYSTEM
# =============================================================================
PLUGINS_DIR=./plugins
PLUGIN_SANDBOX_ENABLED=true
